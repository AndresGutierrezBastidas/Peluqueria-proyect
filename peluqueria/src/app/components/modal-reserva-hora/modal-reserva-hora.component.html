<!-- Modal de Reserva de hora -->

@if (isVisible()){
<!-- Fondo -->
<div class="fixed inset-0 bg-gray-800/75 flex items-center justify-center z-50">
        <!-- Modal -->
        <div class="bg-white rounded-lg shadow-lg p-6 w-[90%] max-w-4xl">
            <!-- Titulo -->
            <h2 class="text-3xl text-center mb-6 ">Seleccione un profesional</h2>

            <!-- Profesionales -->
            <div class="flex justify-center space-x-4 mb-6">
                <!-- Icono de flecha izquierda -->
                <div class="flex flex-col justify-center items-center w-30">
                    <img 
                    src="https://cdn-icons-png.flaticon.com/128/54/54366.png" 
                    alt="flechaIzquierda" 
                    class="w-8 h-8 cursor-pointer -rotate-180"
                        (click)="carruselIzquierda()">
                </div>
                @for(professional of professionals; track professional.id;){
                <div class="flex flex-col items-center w-30 text-center">
                    <img 
                    src="https://s3-alpha-sig.figma.com/img/4d12/44c8/cd23f93c1a9d40fe9c4df8756afecddf?Expires=1745193600&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=QgHdOs1Jj-xo~UAVUIC63sb3UcZCCfZRJcIml25MSlJnPfrDf4P-QeUQ6Wu3fQPzpwC7-Fcgv-NgBWhtVnj-Izqdz01UaS3vxg7xPQoJsba5xbT8ZdAPzlylgOhM7ar4SlfFZDjN-phfQoPlj3FuLKG0w-RwXNfXGzd6iRP6X9msZSZofEZhhscwrssf4aJeE69PuEcjgHrtax6tkoreoT~a-eq1fCtqnuL7W7Bf-iWUa3h2Ik20QvxI-7UcAe5UCzH0AJ3c1PCYmSvYZoa~vaFtEdWJvLiWWheEE9PYQaN-LNSQYHrhmGAwmwzSvSt7-64CqpFXIrvjdg-sA7BZeg__"
                    alt="Profesional"
                    class="w-22 h-22 rounded-full mb-2 border border-gray-300">
                    <p class=" font-bold text-gray-600 mt-2">{{professional.nombre}}</p>
                </div>
                }
                <!-- Icono de flecha Derecha -->
                <div class="flex flex-col justify-center items-center w-30">
                    <img 
                    src="https://cdn-icons-png.flaticon.com/128/54/54366.png" 
                    alt="flechaIzquierda" 
                    class="w-8 h-8 cursor-pointer "
                        (click)="carruselIzquierda()">
                </div>
            </div>

            <!-- Separador -->
            <hr class="border-gray-300 mb-6">
            <!-- Boton de Calendario -->
            <p class="text-2xl font-medium text-gray-800 text-center flex-grow mb-5 first-letter:uppercase">
                {{ selectedDate() | date:'MMMM'}}
                <br>
                {{ selectedDate() | date:'dd'}}</p>

            <div class="flex justify-center mb-4">
                <!-- Contenido del Calendario -->
                <div class="flex items-center justify-between max-w-md mx-auto mb-6">
                    <!-- Calendario Emergente -->
                    <input type="date"
                    
                    (change)="onDateChange($event)"
                    class="border border-gray-300 rounded-lg p-2">
                    
                </div>

                <!-- Horarios -->
                <div class="grid grid-cols-3 gap-4 w-full max-w-md mx-auto">
                    @for(time of times; track time){
                    <input 
                    [class.bg-blue-500]="selectedTime === time"
                    [class.text-white]="selectedTime === time"
                    [class.hover:bg-blue-600]="selectedTime === time"
                    [class.bg-gray-100]="selectedTime !== time" 
                    [class.text-gray-800]="selectedTime !== time"
                    [class.hover:bg-gray-200]="selectedTime !== time"
                    class="bg-gray-100 text-gray-800 px-4 py-2 rounded-lg cursor-pointer"
                    (click)="selectTime(time)"
                    type="text" placeholder="{{time}}" readonly
                    >
                    }
                </div>
            </div>

            <!-- Botones de accion -->
            <div class="flex justify-end mt-6">

                <!-- Boton para pasar a los datos del que reserva -->
                <button (click)="nextStep()"
                    class="bg-gray-800 mr-2 w-35 text-white px-2 py-2 rounded-lg hover:bg-gray-700">
                    Siguiente
                </button>

                <!-- Boton para cerrar modal -->
                <button (click)="closeModal()" class="bg-red-500 w-20 text-white px-2 py-2 rounded-lg hover:bg-red-600">
                    Cerrar
                </button>

            </div>
        </div>
</div>
}