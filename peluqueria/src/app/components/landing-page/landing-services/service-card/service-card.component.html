@let isVisible = isModalVisible();

<h1 class="text-5xl font-bold mb-5 mt-10">Servicios</h1>

<div class="flex flex-wrap justify-center gap-4">
  @for(card of cards(); track card.id){
  <div (click)="openModal(card.id)" class="max-w-xs bg-white rounded-lg shadow-sm">
      <img class="rounded-t-lg" src="https://iscemp.edu.pe/wp-content/uploads/2023/11/barberia-iscemp-curso-03-1024x694.jpg" alt="" />
    <div class="p-5">
      <a href="#" class="flex flex-row gap-7">
        <h5 class="mb-2 text-2xl font-bold tracking-tight">{{ card.nombre }}</h5>
        <h5 class="mb-2 text-2xl font-bold tracking-tight text-end">{{ card.precio }}</h5>
      </a>
      <p class="mb-3 font-normal text-gray-700">{{ card.descripcion }}</p>
    </div>
  </div>
  }
</div>

<!-- Botón solo si hay más de 3 tarjetas -->
<div class="flex justify-center pt-6" *ngIf="cards.length > 4">
  <button (click)="toggleShow()" class="bg-black text-white size-fit rounded-lg w-28 h-12 text-base">
    {{ showAll ? 'Ver menos' : 'Ver más' }}
  </button>
</div>

@defer (when isVisible) {
  <modal-reserva-hora (close)="closeModal()" [serviceId]="service()" [isVisible]="isModalVisible()"/>
}@placeholder {
  <div class="hidden">Hola</div>
}
